\hypertarget{a00023_source}{}\doxysection{eigendunetransformations.\+hh}
\label{a00023_source}\index{eigendunetransformations.hh@{eigendunetransformations.hh}}
\mbox{\hyperlink{a00023}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// SPDX-\/FileCopyrightText: 2021-\/2024 The Ikarus Developers mueller@ibb.uni-\/stuttgart.de}}
\DoxyCodeLine{2 \textcolor{comment}{// SPDX-\/License-\/Identifier: LGPL-\/3.0-\/or-\/later}}
\DoxyCodeLine{3 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <assert.h>}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <dune/common/diagonalmatrix.hh>}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <dune/common/fmatrix.hh>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <dune/common/fvector.hh>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <dune/istl/scaledidmatrix.hh>}}
\DoxyCodeLine{17 }
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include <Eigen/Core>}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{keyword}{namespace }\mbox{\hyperlink{a00360}{Ikarus}} \{}
\DoxyCodeLine{21 }
\DoxyCodeLine{29 \textcolor{keyword}{template} <\textcolor{keyword}{typename} ST, \textcolor{keywordtype}{int} size>}
\DoxyCodeLine{30 \mbox{\hyperlink{a01677}{Dune::FieldVector<ST, size>}} \mbox{\hyperlink{a00360_a0fdba7f3ebe4bf1ada6618f450b50221}{toDune}}(\textcolor{keyword}{const} Eigen::Vector<ST, size>\& vec) \{}
\DoxyCodeLine{31   \mbox{\hyperlink{a01677}{Dune::FieldVector<ST, size>}} fieldVector;}
\DoxyCodeLine{32   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < size; ++i)}
\DoxyCodeLine{33     fieldVector[i] = vec[i];}
\DoxyCodeLine{34   \textcolor{keywordflow}{return} fieldVector;}
\DoxyCodeLine{35 \}}
\DoxyCodeLine{36 }
\DoxyCodeLine{46 \textcolor{keyword}{template} <\textcolor{keyword}{typename} ST, \textcolor{keywordtype}{int} rows>}
\DoxyCodeLine{47 \mbox{\hyperlink{a01677}{Dune::FieldVector<ST, rows>}} \mbox{\hyperlink{a00360_a0fdba7f3ebe4bf1ada6618f450b50221}{toDune}}(\textcolor{keyword}{const} Eigen::Matrix<ST, rows, 0>\& vec) \{}
\DoxyCodeLine{48   assert(vec.cols() == 1 \&\& \textcolor{stringliteral}{"{}The passed matrix needs to have a single column."{}});}
\DoxyCodeLine{49   \mbox{\hyperlink{a01677}{Dune::FieldVector<ST, rows>}} fieldVector\{0.0\};}
\DoxyCodeLine{50 }
\DoxyCodeLine{51   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < vec.rows(); ++i)}
\DoxyCodeLine{52     fieldVector[i] = vec(i, 0);}
\DoxyCodeLine{53   \textcolor{keywordflow}{return} fieldVector;}
\DoxyCodeLine{54 \}}
\DoxyCodeLine{55 }
\DoxyCodeLine{65 \textcolor{keyword}{template} <\textcolor{keyword}{typename} ST, \textcolor{keywordtype}{int} rows, \textcolor{keywordtype}{int} cols>}
\DoxyCodeLine{66 Dune::FieldMatrix<ST, rows, cols> \mbox{\hyperlink{a00360_a0fdba7f3ebe4bf1ada6618f450b50221}{toDune}}(\textcolor{keyword}{const} Eigen::Matrix<ST, rows, cols>\& mat) \{}
\DoxyCodeLine{67   Dune::FieldMatrix<ST, rows, cols> fieldMatrix\{0.0\};}
\DoxyCodeLine{68 }
\DoxyCodeLine{69   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < mat.rows(); ++i)}
\DoxyCodeLine{70     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < mat.cols(); ++j)}
\DoxyCodeLine{71       fieldMatrix[i][j] = mat(i, j);}
\DoxyCodeLine{72   \textcolor{keywordflow}{return} fieldMatrix;}
\DoxyCodeLine{73 \}}
\DoxyCodeLine{74 }
\DoxyCodeLine{82 \textcolor{keyword}{template} <\textcolor{keyword}{typename} ST, \textcolor{keywordtype}{int} size>}
\DoxyCodeLine{83 Eigen::Map<const Eigen::Vector<ST, size>> \mbox{\hyperlink{a00360_aaa7e8e9b8bd8247afecc24cdd54ec658}{toEigenMap}}(\textcolor{keyword}{const} \mbox{\hyperlink{a01677}{Dune::FieldVector<ST, size>}}\& vec) \{}
\DoxyCodeLine{84   \textcolor{keywordflow}{return} \{vec.data(), size\};}
\DoxyCodeLine{85 \}}
\DoxyCodeLine{86 }
\DoxyCodeLine{94 \textcolor{keyword}{template} <\textcolor{keyword}{typename} ST, \textcolor{keywordtype}{int} size>}
\DoxyCodeLine{95 Eigen::Map<Eigen::Vector<ST, size>> \mbox{\hyperlink{a00360_aaa7e8e9b8bd8247afecc24cdd54ec658}{toEigenMap}}(\mbox{\hyperlink{a01677}{Dune::FieldVector<ST, size>}}\& vec) \{}
\DoxyCodeLine{96   \textcolor{keywordflow}{return} \{vec.data(), size\};}
\DoxyCodeLine{97 \}}
\DoxyCodeLine{98 }
\DoxyCodeLine{99 \} \textcolor{comment}{// namespace Ikarus}}

\end{DoxyCode}
